---
interface Props {
  type?: 'vertical' | 'horizontal' | 'section';
  size?: {
    desktop: string;
    mobile: string;
  };
  showDivider?: boolean;
  dividerStyle?: 'solid' | 'dashed' | 'dotted';
  _key?: string;
  _type?: string;
}

const {
  type = 'vertical',
  size = { desktop: 'medium', mobile: 'medium' },
  showDivider = false,
  dividerStyle = 'solid',
} = Astro.props;

// Build CSS classes
const classes = [
  'spacer',
  `spacer-${type}`,
  `spacer-desktop-${size.desktop}`,
  `spacer-mobile-${size.mobile}`,
];

if (showDivider && type === 'section') {
  classes.push('spacer-with-divider');
  classes.push(`spacer-divider-${dividerStyle}`);
}
---

<div class={classes.join(' ')} role="separator" aria-hidden="true"></div>

<style>
  .spacer {
    width: 100%;
  }

  /* Vertical spacers */
  .spacer-vertical {
    height: var(--spacer-size);
  }

  /* Horizontal spacers (for inline layouts) */
  .spacer-horizontal {
    display: inline-block;
    width: var(--spacer-size);
    height: 1px;
  }

  /* Section spacers */
  .spacer-section {
    height: var(--spacer-size);
    position: relative;
  }

  .spacer-with-divider::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 1px;
    background-color: currentColor;
    opacity: 0.2;
  }

  .spacer-divider-dashed::after {
    border-top: 1px dashed currentColor;
    background: none;
  }

  .spacer-divider-dotted::after {
    border-top: 1px dotted currentColor;
    background: none;
  }

  /* Desktop sizes */
  .spacer-desktop-xs { --spacer-size: 0.5rem; }
  .spacer-desktop-small { --spacer-size: 1rem; }
  .spacer-desktop-medium { --spacer-size: 2rem; }
  .spacer-desktop-large { --spacer-size: 3rem; }
  .spacer-desktop-xl { --spacer-size: 4rem; }
  .spacer-desktop-xxl { --spacer-size: 6rem; }
  .spacer-desktop-xxxl { --spacer-size: 8rem; }

  /* Mobile sizes - using container queries for more precise control */
  @container (max-width: 768px) {
    .spacer-mobile-xs { --spacer-size: 0.25rem !important; }
    .spacer-mobile-small { --spacer-size: 0.5rem !important; }
    .spacer-mobile-medium { --spacer-size: 1rem !important; }
    .spacer-mobile-large { --spacer-size: 1.5rem !important; }
    .spacer-mobile-xl { --spacer-size: 2rem !important; }
    .spacer-mobile-xxl { --spacer-size: 3rem !important; }
  }
</style>